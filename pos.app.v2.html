<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS APP</title>
</head>
<body>
    <h1>
        Cart(s)
    </h1>
    <h3>
        Rp. 0
    </h3>
    <div id="show-cart">

    </div>
    <hr /> 
    <h1>
        Menu
    </h1>
    <div id="show-menu">

    </div>
</body>
</html>





<script>
    const menus = [
        {
            id: 1, 
            name: 'Iced Americano', 
            price: 21000
        }, 
        {
            id: 2, 
            name: 'Iced Classic Latte', 
            price: 24000
        },
        {
            id: 3, 
            name: 'Nutty Oat Latte', 
            price: 24000
        }
    ]

    const carts = []

    function ShowMenu(){
        let display = ''
        menus.forEach((item, index) => {
            display += `
                ${index+1}. ${item.name}: Rp.${item.price.toLocaleString('id-ID')} <button onclick="UpdateQty(${item.id}, '-')">-</button><span id="qty-${item.id}">1</span><button onclick="UpdateQty(${item.id}, '+')">+</button> <button onclick="AddToCart(${item.id})">Add</button> <br>
            `
        })

        document.getElementById('show-menu').innerHTML = display
    }

    ShowMenu()

    function UpdateQty(id, operator){
        let currentItem = document.getElementById(`qty-${id}`).innerHTML
        if(operator === '+'){
            currentItem++
        }else if(operator === '-' && currentItem > 1){
            currentItem--
        }
        document.getElementById(`qty-${id}`).innerHTML = currentItem
    }

    function AddToCart(id){
        // Find Menu by Id
        menus.forEach(item =>{
            if(item.id === id){
                carts.push({...item, qty: document.getElementById(`qty-${item.id}`).innerHTML})
            }
        })
        
        let display = ''
        carts.forEach(item => {
            display += `${item.name}: ${item.price}x${item.qty} = ${item.price*item.qty} <br>`
        })

        document.getElementById('show-cart').innerHTML = display
    }
</script>